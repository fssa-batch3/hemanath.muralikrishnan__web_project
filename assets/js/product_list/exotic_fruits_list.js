let product_details =
    [
        // object start
        {
            "product": {
                "id": 1,
                "name": {
                    "english": "Apple-Green",
                    "tamil": "பச்சை ஆப்பிள்"
                },
                "image": {
                    "source": "https://drive.google.com/uc?export=view&id=18xjO4LVAlkvOov_AwZbeTuIIioRA3fif",
                    "alt": "apple green fruits"
                },
                "category":{
                    "title": "Exotic Fruits",
                    "id" : "1"
                },

                "description": "Green apples are a boon to those who wish to shed the extra fat in their body. This fruit has low calories and rich in fiber that helps you to fight the hunger pangs when you have it early morning in an empty stomach. It is low in sodium, sugar, and fat that helps it to boost the process of calorie burning to achieve your weight loss goals much faster.",

                "healthy": {
                    "protein": 1,
                    "carbo": 25,
                    "kcal": 95
                },

                "select_dropdown": [

                    { "value_source": 1, "text": "500gm - ₹50" },
                    { "value_source": 2, "text": "1kg - ₹100" },

                ],

                "unit_price": 50,

                "rating": 3.5,

            },
            "farmer": {
                "id": 1,
                "name": "Nammalvar G",
                "image": {
                    "source": "https://lh5.googleusercontent.com/jMTB5lgBICPzh-whZ6Sa4p9Yyymp8hgrQ7hnEIcv_hr9RnB0B4vbulsaZvHveycxq9s=w2400",
                    "alt": "Nammalvar G"

                }
            }
        },


        // object end

        // object start
        {
            "product": {
                "id": 2,
                "name": {
                    "english": "Avocado",
                    "tamil": "அவோகேடோ"
                },
                "image": {
                    "source": "https://drive.google.com/uc?export=view&id=1M6izGNJEDgLubvw09ZjlN5vXtdGcexf9",
                    "alt": "avocado fruits"
                },
                "category":{
                    "title": "Exotic Fruits",
                    "id" : "1"
                },

                "description": "Avocados are a source of key nutrients, including healthy fats and fiber. They also contain anti-inflammatory and antioxidant compounds and may help reduce heart disease risk.",

                "healthy": {
                    "protein": 4,
                    "carbo": 17,
                    "kcal": 322
                },

                "select_dropdown": [

                    { "value_source": 1, "text": "500gm - ₹50" },
                    { "value_source": 2, "text": "1kg - ₹100" },

                ],

                "unit_price": 50,

                "rating": 3.5,

            },
            "farmer": {
                "id": 1,
                "name": "Nammalvar G",
                "image": {
                    "source": "https://lh5.googleusercontent.com/jMTB5lgBICPzh-whZ6Sa4p9Yyymp8hgrQ7hnEIcv_hr9RnB0B4vbulsaZvHveycxq9s=w2400",
                    "alt": "Nammalvar G"

                }
            }
        },


        // object end

        // object start
        {
            "product": {
                "id": 3,
                "name": {
                    "english": "Blueberry",
                    "tamil": "அவுரிநெல்லி"
                },
                "image": {
                    "source": "https://drive.google.com/uc?export=view&id=1W9S1VNv_gRdHV0Wmk-BsiYyp7etvegSb",
                    "alt": "blueberry fruit"
                },
                "category":{
                    "title": "Exotic Fruits",
                    "id" : "1"
                },

                "description": "Blueberries contain vitamins, minerals, and antioxidants that provide notable health benefits. For example, blueberries are rich in vitamin K, which plays an important role in promoting heart health. The vitamin is also important to bone health and blood clotting.",

                "healthy": {
                    "protein": 1,
                    "carbo": 11,
                    "kcal": 42
                },

                "select_dropdown": [

                    { "value_source": 1, "text": "500gm - ₹50" },
                    { "value_source": 2, "text": "1kg - ₹100" },

                ],

                "unit_price": 50,

                "rating": 3.5,

            },
            "farmer": {
                "id": 1,
                "name": "Nammalvar G",
                "image": {
                    "source": "https://lh5.googleusercontent.com/jMTB5lgBICPzh-whZ6Sa4p9Yyymp8hgrQ7hnEIcv_hr9RnB0B4vbulsaZvHveycxq9s=w2400",
                    "alt": "Nammalvar G"

                }
            }
        },


        // object end

        // object start
        {
            "product": {
                "id": 4,
                "name": {
                    "english": "Dragon Fruit",
                    "tamil": "டிராகன் பழம்"
                },
                "image": {
                    "source": "https://drive.google.com/uc?export=view&id=1ZIxlRAGpd8rB5mft2zRxwnyj_LuPJR74",
                    "alt": "dragon fruit"
                },
                "category":{
                    "title": "Exotic Fruits",
                    "id" : "1"
                },

                "description": "It can boost your iron levels. Iron is important for moving oxygen through your body and giving you energy, and dragon fruit has iron. And the vitamin C in dragon fruit helps your body take in and use the iron.",

                "healthy": {
                    "protein": 2,
                    "carbo": 22,
                    "kcal": 102
                },

                "select_dropdown": [

                    { "value_source": 1, "text": "500gm - ₹50" },
                    { "value_source": 2, "text": "1kg - ₹100" },

                ],

                "unit_price": 50,

                "rating": 3.5,

            },
            "farmer": {
                "id": 1,
                "name": "Nammalvar G",
                "image": {
                    "source": "https://lh5.googleusercontent.com/jMTB5lgBICPzh-whZ6Sa4p9Yyymp8hgrQ7hnEIcv_hr9RnB0B4vbulsaZvHveycxq9s=w2400",
                    "alt": "Nammalvar G"

                }
            }
        },


        // object end



        // object end
         // object start
         {
            "product": {
                "id": 5,
                "name": {
                    "english": "Kiwi-Green",
                    "tamil": "கிவி"
                },
                "image": {
                    "source": "https://drive.google.com/uc?export=view&id=1PNSz2yILtYkS7Yq-sS7wthChYi47YCoB",
                    "alt": "kiwi green fruit"
                },
                "category":{
                    "title": "Exotic Fruits",
                    "id" : "1"
                },

                "description": "The vitamins, fiber, and antioxidants can provide essential health benefits. The flesh is rich with vitamins that stimulate immunity and reduce the risk of disease.",

                "healthy": {
                    "protein": 1,
                    "carbo": 11,
                    "kcal": 46
                },

                "select_dropdown": [

                    { "value_source": 1, "text": "500gm - ₹50" },
                    { "value_source": 2, "text": "1kg - ₹100" },

                ],

                "unit_price": 50,

                "rating": 3.5,

            },
            "farmer": {
                "id": 1,
                "name": "Nammalvar G",
                "image": {
                    "source": "https://lh5.googleusercontent.com/jMTB5lgBICPzh-whZ6Sa4p9Yyymp8hgrQ7hnEIcv_hr9RnB0B4vbulsaZvHveycxq9s=w2400",
                    "alt": "Nammalvar G"

                }
            }
        },


        // object end

        // object start
        {
            "product": {
                "id": 6,
                "name": {
                    "english": "Pears-Green",
                    "tamil": "பச்சை பேரிக்காய்"
                },
                "image": {
                    "source": "https://drive.google.com/uc?export=view&id=1DVwLMuy-p0I8EQMkMmiUG3ZfEyEYuBzY",
                    "alt": "pears green fruit"
                },
                "category":{
                    "title": "Exotic Fruits",
                    "id" : "1"
                },

                "description": "Pears are good for your digestion, heart and blood glucose levels. They're also free radical warriors. Eat pears raw or try cooking with them in recipes like Baked Oatmeal with Pears, Roasted Butternut Squash & Pear Quinoa Salad and Pear Custard Pie.",

                "healthy": {
                    "protein": 1,
                    "carbo": 27,
                    "kcal": 101
                },

                "select_dropdown": [

                    { "value_source": 1, "text": "500gm - ₹50" },
                    { "value_source": 2, "text": "1kg - ₹100" },

                ],

                "unit_price": 50,

                "rating": 3.5,

            },
            "farmer": {
                "id": 1,
                "name": "Nammalvar G",
                "image": {
                    "source": "https://lh5.googleusercontent.com/jMTB5lgBICPzh-whZ6Sa4p9Yyymp8hgrQ7hnEIcv_hr9RnB0B4vbulsaZvHveycxq9s=w2400",
                    "alt": "Nammalvar G"

                }
            }
        },


        // object end

        // object start
        {
            "product": {
                "id": 7,
                "name": {
                    "english": "Strawberry",
                    "tamil": "ஸ்ட்ராபெர்ரி"
                },
                "image": {
                    "source": "https://drive.google.com/uc?export=view&id=1PBv3aOXVPORzpgKH0qprKX6VdNkpFgQ-",
                    "alt": "stawberry fruit"
                },
                "category":{
                    "title": "Exotic Fruits",
                    "id" : "1"
                },
                "description": "Strawberries are a favorite summer fruit. The sweet berries appear in everything from yogurt to desserts and even salads. Strawberries, like most berries, are a low-glycemic fruit, making them a tasty option for people looking to control or reduce their glucose levels.",

                "healthy": {
                    "protein": 0,
                    "carbo": 6,
                    "kcal": 23
                },

                "select_dropdown": [

                    { "value_source": 1, "text": "500gm - ₹50" },
                    { "value_source": 2, "text": "1kg - ₹100" },

                ],

                "unit_price": 50,

                "rating": 2.0,

            },
            "farmer": {
                "id": 1,
                "name": "Nammalvar G",
                "image": {
                    "source": "https://lh5.googleusercontent.com/jMTB5lgBICPzh-whZ6Sa4p9Yyymp8hgrQ7hnEIcv_hr9RnB0B4vbulsaZvHveycxq9s=w2400",
                    "alt": "Nammalvar G"

                }
            }
        }


        // object end

         

    ]



console.log(product_details);


let product_container_div;
let container_start_div;
let product_main_div;

let indv_product_link;

let product_image_div;
let product_image_src;
let product_cat_title;

let product_name_div;
let product_eng_name_p;
let product_tam_name_p;


let rating_div;
let rating_stars_div;
let rating_number_div;
let rating_num;

let dropdown_div;


let quantity_cart_div;
let qty_div;
let add_cart_div;
let add_cart;
let add_text;
let add_bag;


let k;

for (k = 0; k < product_details.length; k++) {


    let product = product_details[k]["product"];

    // product_container_div
    product_container_div = document.createElement("div");
    product_container_div.setAttribute("class", "product-container");


    // product_main_div
    product_main_div = document.createElement("div");
    product_main_div.setAttribute("class", "product-main");
    product_container_div.append(product_main_div);

   let product_id = product["id"];
   let product_cat = product["category"]["id"]

   let href_link = "../product_details/details.html?" + "id=" + product_id  + "&" + "cat=" + product_cat;


    // indv product link
    indv_product_link = document.createElement("a");
    indv_product_link.setAttribute("href",href_link);
    product_main_div.append(indv_product_link);


    // product_image_div
    product_image_div = document.createElement("div");
    product_image_div.setAttribute("class", "product-img");
    indv_product_link.append(product_image_div);

    //product_image_creating
    product_image_src = document.createElement("img");
    product_image_src.setAttribute("src", product_details[k]["product"]["image"]["source"]);
    product_image_src.setAttribute("alt", product_details[k]["product"]["image"]["alt"]);
    product_image_div.append(product_image_src);

    // product category title
    product_cat_title = document.createElement("p");
    product_cat_title.setAttribute("class", "category-title");
    product_cat_title.innerHTML = product_details[k]["product"]["category"]["title"];
    indv_product_link.append(product_cat_title);

    // product_name_div
    product_name_div = document.createElement("div");
    product_name_div.setAttribute("class", "product-name");
    indv_product_link.append(product_name_div);

    // product_names

    // product eng name
    product_eng_name_p = document.createElement("p");
    product_eng_name_p.innerText = product_details[k]["product"]["name"]["english"];
    product_name_div.append(product_eng_name_p);

    // product tam name
    product_tam_name_p = document.createElement("p");
    product_tam_name_p.innerText = product_details[k]["product"]["name"]["tamil"];
    product_name_div.append(product_tam_name_p);

    // rating_div
    rating_div = document.createElement("div");
    rating_div.setAttribute("class", "rating-part");
    product_main_div.append(rating_div);

    // rating stars div
    rating_stars_div = document.createElement("div");
    rating_stars_div.setAttribute("class", "rating");
    rating_div.append(rating_stars_div);


    
    let rating_round = Math.round(product.rating);

    let stars = "";
    for (let j = 0; j < rating_round; j++) {
        stars += "⭐";
    }

    rating_stars_div.append(stars);

    // rating number
    rating_number_div = document.createElement("div");
    rating_number_div.setAttribute("class", "rating-number");
    rating_div.append(rating_number_div);

    // rating num
    rating_num = document.createElement("p");
    rating_num.innerText = product_details[k]["product"]["rating"];
    rating_number_div.append(rating_num);

    // dropdown_div
    let dropdown_div = document.createElement("div");
    dropdown_div.className = "dropdown";
    product_main_div.appendChild(dropdown_div);

    // dropdown_header
    let dropdown_header = document.createElement("div");
    dropdown_header.className = "dropdown-header";
    dropdown_header.innerHTML = product.select_dropdown[0].text + '<i class="fas fa-caret-down"></i>';
    dropdown_div.appendChild(dropdown_header);
    // dropdown_options
    let dropdown_options = document.createElement("div");
    dropdown_options.className = "dropdown-options";
    dropdown_div.appendChild(dropdown_options);

    let selectedValue;
    for (let j = 0; j < product.select_dropdown.length; j++) {
        let option = product.select_dropdown[j];

        let dropdown_option = document.createElement("div");
        dropdown_option.className = "dropdown-option";
        dropdown_option.innerText = option.text;
        dropdown_option.addEventListener("click", function () {
            selectedValue = option.value_source;
            amount.innerText = "Rs. " + product.unit_price * selectedValue;
            dropdown_header.innerHTML = option.text + '<i class="fas fa-caret-down"></i>';
            dropdown_options.classList.remove("show");
        });
        dropdown_options.appendChild(dropdown_option);
    }

    // amount
    let amount = document.createElement("div");
    amount.className = "amount";
    amount.innerText = "Rs. " + product.unit_price;
    product_main_div.append(amount);

    // toggle dropdown options on header click
    dropdown_header.addEventListener("click", function () {
        dropdown_options.classList.toggle("show");
    });


    // let amount = document.createElement("div");
    // amount.className = "amount";
    // amount.innerText = "Total: ₹" + product["unit_price"];
    // product_main_div.appendChild(amount);


    let qty_value = 1;
    let qty_plus_value;
    let qty_minus_value;


    // quantity cart div
    quantity_cart_div = document.createElement("div");
    quantity_cart_div.setAttribute("class", "qty-cat");
    product_main_div.append(quantity_cart_div);

    qty_div = document.createElement("div");
    qty_div.setAttribute("class", "qty");
    quantity_cart_div.append(qty_div);

    let qty_minus = document.createElement("div");
    qty_minus.innerText = "-";
    qty_minus.className = "qty-minus";
    qty_div.append(qty_minus);


    let qty_number = document.createElement("div");
    qty_number.innerText = "01";
    qty_number.className = "qty-number";
    qty_div.append(qty_number);


    let qty_plus = document.createElement("div");
    qty_plus.innerText = "+";
    qty_plus.className = "qty-plus";
    qty_div.append(qty_plus);

    qty_plus.addEventListener("click", () => {
        qty_value++;
        qty_plus_value = (qty_value < 10) ? "0" + qty_value : qty_value;
        qty_number.innerText = qty_plus_value;
    });

    qty_minus.addEventListener("click", () => {
        if (qty_value > 1) {
            qty_value--;
            qty_minus_value = (qty_value < 10) ? "0" + qty_value : qty_value;
            qty_number.innerText = qty_minus_value;
        }
    });


    // add button div

    add_cart_div = document.createElement("div");
    add_cart_div.setAttribute("class", "add-button");
    quantity_cart_div.append(add_cart_div);

    // add cart 
    add_cart = document.createElement("a");
    add_cart.setAttribute("href", "../cart.html");
    add_cart.setAttribute("class", "add-to-cart")
    add_cart_div.append(add_cart);

    // add text
    add_text = document.createElement("b");
    add_text.innerText = "Add ";
    add_cart.append(add_text);

    // add bag
    add_bag = document.createElement("i");
    add_bag.setAttribute("class", "fa-solid fa-bag-shopping");
    add_cart.append(add_bag);



    document.querySelector(".products-list-container").appendChild(product_container_div);


}



